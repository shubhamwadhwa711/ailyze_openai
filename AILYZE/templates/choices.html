<script src="https://unpkg.com/htmx.org@1.9.2"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
 {%load static %}
{% load widget_tweaks %}
{% if choices %}
<div class="container">
  <div class="border p-3 mt-3">
    <div class="heading">
      <h6> Choose the type Analysis :</h6  >
    </div>
    {% for j in choices %}
    {% csrf_token %}
    <button type="submit" class="btn btn-sm rounded-pill mt-3 btn-outline-primary text-black" name="choice_button" value={{j}}  hx-post="{% url 'query' %}"  hx-vals='{"choice": "{{ j }}" }'  hx-target="#choiceva">{{ j }} </button><br>
   {% endfor %} 

 </div>
</div>
{% endif %}

<div id="choiceva">
  {% include 'chioceform.html'%}
</div>
<script>
    document.body.addEventListener('htmx:configRequest', (event) => {
      event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
    })
  </script>
